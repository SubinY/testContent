第二层输出格式（保持 V1 标准）
在 V1 的 TestVariant 基础上，增加 theory_traceability 字段，确保每个题目、每个结果都能追溯到第一层的理论维度。
JSON
复制
{
  "variant": {
    "id": "uuid",
    "style": "场景剧情型",
    "label": "主题标签",
    "questions": [...],
    "results": [...],
    "theory_traceability": {
      "framework_id": "关联的第一层框架ID",
      "dimension_mapping": [
        {"question_id": 1, "dimension": "维度名称"},
        {"question_id": 2, "dimension": "维度名称"}
      ],
      "confidence_reminder": "该测评的理论置信度为moderate，结果仅供自我探索参考"
    }
  }
}
用户体验增强
前端展示要求
理论透明度：在变体预览页增加"测评逻辑"折叠面板，展示：
该变体基于什么理论框架
测量哪几个维度
置信度等级和适用边界
置信度可视化：
high：绿色标签"经典理论应用"
moderate：黄色标签"跨学科构建"
low：橙色标签"创意投射测评"
结果解释分层：
第一层：直接结果（如"你的风险厌恶指数偏高"）
第二层：理论解释（如"根据前景理论，你对损失的敏感度是收益的2倍"）
第三层：应用建议（如"在重大决策时，建议采用'预演失败'策略平衡损失厌恶"）
质量保障机制
自我验证检查点
系统在生成内容后，必须进行以下自我检查：
理论一致性检查：每个题目是否都能明确对应到第一层的某个维度？
表面效度检查：题目表述是否通俗易懂，避免专业术语堆砌？
天花板效应检查：选项/情境是否覆盖从低到高的连续谱，避免极端化？
文化适应性检查：是否包含文化特定符号或情境，可能影响跨文化适用性？
人工审核标记（后续迭代）
在管理后台增加理论质量评分功能：
理论合理性（1-5分）
形式适配度（1-5分）
结果解释质量（1-5分）
低分案例自动进入优化队列，用于微调主题解构引擎。
实施优先级
Phase 1：核心引擎（立即实施）
实现主题解构引擎的三层分析逻辑
实现基础理论工具箱和组合规则
重构 Prompt 系统，从固定映射改为动态生成
Phase 2：形式适配（1周内）
保持 V1 的 5 种形式约束不变
增加形式与理论的对接层
实现置信度自评估和展示
Phase 3：进化系统（后续迭代）
建立主题-理论案例库
实现相似主题检索和案例复用
基于用户反馈的理论框架优化
成功标准
覆盖度：系统能够处理任意用户输入的主题，无需人工预设映射，置信度评估合理
解释力：每个生成的测评都能清晰说明"测什么""为什么""怎么测"，避免理论空洞
可信度：通过置信度透明化，用户能明确区分科学严谨测评和娱乐创意测评
可维护性：无需持续维护主题映射表，系统通过方法论自主适应新主题
附录：示例主题处理流程
输入主题："自己参军打仗的生存率"
阶段一：解构
表面意象：战争、士兵、生死、纪律、团队、武器、战场
深层构念：极端压力下的应激反应、风险评估风格、权威服从与自主决策的张力
测量目标：投射性（揭示潜意识中的应对模式）+ 描述性（描绘当前心理特质）
阶段二：理论选择
主要理论：战斗-逃跑-僵住反应（测量本能应激模式）
辅助理论：前景理论（测量风险决策偏好）+ 心理韧性理论（测量恢复能力）
组合逻辑：应激反应决定即时行为，决策偏好影响策略选择，心理韧性决定长期适应
阶段三：维度拆解
应激反应模式（战斗/逃跑/僵住/服从）：基于战斗-逃跑理论
风险认知偏差（乐观/悲观/现实）：基于前景理论
集体-个人主义倾向（团队优先/个人生存）：基于社会认同理论
规则适应性（严格服从/灵活变通/反抗）：基于控制点理论
阶段四：置信度
level: moderate
reasoning: 主题涉及极端情境，理论应用需要概念延伸，但基础理论（应激反应、决策理论）有实证支持
validity_threats: ["表面效度过高（用户可能伪装勇敢）", "缺乏真实战境验证"]
scope: 适用于自我探索和团队建设，不适用于人员选拔或真实风险评估
形式适配：场景剧情型，构建5个军事决策情境，每个情境测试不同维度组合，结果生成"战场心理画像"而非真实生存率。